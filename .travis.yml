language: android
script: ./gradlew --stacktrace check tests -PverboseReports
jdk: oraclejdk8

android:
  licenses:
    - android-sdk-license-.+
  components:
    - tools
    - platform-tools
    - build-tools-26.0.2
    - android-26

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -f  /tmp/.gradle-test-kit-travis/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/
cache:
  directories:
    # Prevent Downloading https://services.gradle.org/distributions/gradle-4.2.1-all.zip
    # TODO Prevent? Unzipping /home/travis/.gradle/wrapper/dists/gradle-4.2.1-all/domrskppdhf3wtn5mziw0c2zr/gradle-4.2.1-all.zip
    - $HOME/.gradle/wrapper/dists/gradle-*-*/*/gradle-*/
    # Prevent Download https://jcenter.bintray.com/ during compilation
    - $HOME/.gradle/caches/modules-2/
    # Prevent Generating JAR file 'gradle-api-4.2.1.jar' during compilation
    - $HOME/.gradle/caches/*/generated-gradle-jars/
    # Prevent Download https://jcenter.bintray.com/ during test runs
    - /tmp/.gradle-test-kit-travis/caches/modules-2/
    # Prevent Generating JAR file 'gradle-api-4.2.1.jar' during test runs
    - /tmp/.gradle-test-kit-travis/caches/*/generated-gradle-jars/
#    - $ANDROID_HOME
